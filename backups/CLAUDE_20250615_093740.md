# ü§ñ CLAUDE.md - Configuration et Contexte de D√©veloppement

*Derni√®re mise √† jour : 15 juin 2025 - 06:50*

---

## üéØ CONTEXTE PROJET

### **Vision Principale**
Plateforme r√©volutionnaire de g√©n√©ration automatique de sites web avec √©cosyst√®me IA complet - **La premi√®re AGENCE DIGITALE IA** qui transforme automatiquement toute PME en business digital ultra-performant.

### **Statut Actuel**
- ‚úÖ **MVP 100% Op√©rationnel** : Next.js + PostgreSQL + Stripe + Polar
- ‚úÖ **Architecture Multi-Agents Configur√©e** : 4 agents parall√®les pr√™ts
- üöÄ **Phase 2** : D√©veloppement des capacit√©s IA avanc√©es

---

## üèóÔ∏è ARCHITECTURE MULTI-AGENTS

### **Repository Principal**
- **GitHub** : https://github.com/Manu5921/-website-generator-v2-multi-agents
- **Dossier** : `/Users/manu/Documents/DEV/website-generator-v2-multi-agents-clean/`
- **Branche** : `main`

### **4 Agents Sp√©cialis√©s**

#### üé® **Agent 1 : Design IA Specialist**
- **Dossier** : `/Users/manu/Documents/DEV/website-generator-design-ai/`
- **Branche** : `agent/design-ai`
- **Port** : 3335
- **Mission** : Figma MCP + Claude cr√©atif + Templates sectoriels
- **Technologies** : Claude MCP, Figma API, Midjourney/DALL-E
- **Priorit√©** : üî• CRITIQUE (diff√©renciation march√© majeure)

#### ü§ñ **Agent 2 : Automation Specialist**
- **Dossier** : `/Users/manu/Documents/DEV/website-generator-automation/`
- **Branche** : `agent/automation`
- **Port** : 3336
- **Mission** : N8N workflows + Agents IA conversationnels
- **Technologies** : N8N, Claude/GPT-4, APIs tierces (CRM, booking)
- **Priorit√©** : üî• HAUTE (recurring revenue + valeur ajout√©e)

#### üìä **Agent 3 : Ads Management Specialist**
- **Dossier** : `/Users/manu/Documents/DEV/website-generator-ads/`
- **Branche** : `agent/ads-management`
- **Port** : 3337
- **Mission** : Google/Facebook Ads + ML + Analytics
- **Technologies** : Google Ads API, Facebook Ads API, ML algorithms
- **Priorit√©** : üü° MOYENNE (source revenue importante - 20% commission)

#### üíé **Agent 4 : Core Platform Enhancement**
- **Dossier** : `/Users/manu/Documents/DEV/website-generator-core/`
- **Branche** : `agent/core-platform`
- **Port** : 3334 (existant)
- **Mission** : Optimisation architecture + Performance + UX
- **Technologies** : Next.js, PostgreSQL, optimisations
- **Priorit√©** : üü° MOYENNE (fondation solide)

---

## üìã STACK TECHNIQUE ACTUEL

### **Frontend & Backend**
- **Framework** : Next.js 15.3.3 avec App Router
- **Language** : TypeScript strict
- **Styling** : Tailwind CSS v4
- **Base de donn√©es** : PostgreSQL (Neon) + Drizzle ORM
- **Authentification** : NextAuth.js

### **Paiements & APIs**
- **Paiements** : Stripe (uniquement - cl√©s test configur√©es)
- **Emails** : Nodemailer (SMTP Gmail)
- **APIs tierces** : Figma, N8N, Google/Facebook Ads

### **D√©ploiement & Infrastructure**
- **Production** : Vercel (‚úÖ Projet cr√©√© : `website-generator-v2-multi-agents`)
- **Database** : Neon PostgreSQL
- **Monitoring** : √Ä impl√©menter

---

## üîë VARIABLES D'ENVIRONNEMENT CRITIQUES

### **Base de Donn√©es**
```bash
DATABASE_URL=postgresql://... # Neon PostgreSQL
```

### **Authentification**
```bash
NEXTAUTH_URL=http://localhost:3334
NEXTAUTH_SECRET=your_nextauth_secret_here
```

### **Paiements**
```bash
# Stripe (Uniquement)
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_STRIPE_PUBLISHABLE_KEY_HERE
STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_YOUR_STRIPE_WEBHOOK_SECRET
```

### **Emails (Optionnel)**
```bash
SMTP_HOST=smtp.gmail.com
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
```

### **APIs IA (√Ä Configurer)**
```bash
# Figma (Design IA) - ‚úÖ CONFIGUR√â (voir SECRETS_MEMO.md local)
FIGMA_ACCESS_TOKEN=figd_YOUR_FIGMA_ACCESS_TOKEN_HERE
FIGMA_TEAM_ID=PlLmpGqgUEe9y9XXmzLYFi  # Extrait du lien d'invitation
FIGMA_FILE_ID=O8nq96iqw0xaTaPLLYl0MM  # Design file de test

# Claude MCP
CLAUDE_MCP_SERVER_URL=ws://localhost:3002
ANTHROPIC_MCP_API_KEY=your_key

# Image Generation
DALLE_API_KEY=your_openai_key
MIDJOURNEY_API_KEY=your_midjourney_key

# Google/Facebook Ads
GOOGLE_ADS_API_KEY=your_google_ads_key
FACEBOOK_ADS_ACCESS_TOKEN=your_facebook_token
```

---

## üéØ OBJECTIFS PHASE 2 (3-4 Semaines)

### **Semaine 1 : Foundation**
- [ ] **Design IA** : Setup Figma MCP + premi√®re g√©n√©ration design
- [ ] **Automation** : Setup N8N + premier workflow restaurant
- [ ] **Ads** : Setup Google Ads API + premi√®re campagne test
- [ ] **Core** : Audit performance + optimisations critiques

### **Semaine 2-3 : D√©veloppement**
- [ ] **Design IA** : Templates sectoriels (restaurant, coiffeur, artisan)
- [ ] **Automation** : 3 agents IA (service client, marketing, BI)
- [ ] **Ads** : Algorithmes ML + attribution tracking
- [ ] **Core** : Dashboard v2 + monitoring avanc√©

### **Semaine 4 : Int√©gration**
- [ ] Tests inter-agents
- [ ] D√©ploiement Vercel
- [ ] Documentation finale
- [ ] Pr√©paration commercialisation

---

## üí∞ BUSINESS MODEL CIBLE

### **Offres Sites Web + Services**
- **DIGITAL STARTER** : 899‚Ç¨ setup + 199‚Ç¨/mois
- **DIGITAL PROFESSIONAL** : 1499‚Ç¨ setup + 399‚Ç¨/mois
- **DIGITAL ENTERPRISE** : 2499‚Ç¨ setup + 699‚Ç¨/mois

### **Offres Business Automation (Nouveau)**
- **AUTOMATION STARTER** : 199-299‚Ç¨ setup + 79-149‚Ç¨/mois
- **AUTOMATION PROFESSIONAL** : 399-599‚Ç¨ setup + 179-249‚Ç¨/mois
- **AUTOMATION ENTERPRISE** : Custom pricing

### **Packages Combin√©s (Upsell Majeur)**
- **STARTER BUSINESS** : Site + SEO + 2 Automations = 1999‚Ç¨ + 399‚Ç¨/mois
- **PROFESSIONAL BUSINESS** : Site + SEO + Ads + 4 Automations = 2999‚Ç¨ + 699‚Ç¨/mois
- **ENTERPRISE BUSINESS** : √âcosyst√®me complet = 4999‚Ç¨ + 1299‚Ç¨/mois

### **Revenue Streams √âtendus**
1. **Setup Sites** : 899‚Ç¨ - 2499‚Ç¨ par client
2. **Setup Automation** : 199‚Ç¨ - 599‚Ç¨ par prestation
3. **Recurring Sites** : 199‚Ç¨ - 699‚Ç¨/mois par client
4. **Recurring Automation** : 79‚Ç¨ - 249‚Ç¨/mois par automation
5. **Ads Commission** : 20% des budgets publicitaires
6. **Packages Combin√©s** : 1999‚Ç¨ - 4999‚Ç¨ setup + 399‚Ç¨ - 1299‚Ç¨/mois

### **Projection Ann√©e 1 R√©vis√©e**
- **100 clients sites** √ó **400‚Ç¨/mois** = **480k‚Ç¨**
- **50 clients automation** √ó **500‚Ç¨/mois** = **300k‚Ç¨** 
- **Setup revenue total** : **250k‚Ç¨**
- **Ads commission** : **120k‚Ç¨**
- **Total** : **1,150k‚Ç¨ CA** (+53% vs initial)

---

## üìä M√âTRIQUES DE SUCC√àS

### **Performance Technique**
- **G√©n√©ration design** : < 5 secondes
- **Workflows N8N** : 99.5%+ uptime
- **Agents IA** : < 2s latence de r√©ponse
- **Lighthouse Score** : 90+ sur toutes pages

### **Business KPIs**
- **Time-to-delivery** : 3-4 jours vs 2-3 semaines
- **Client satisfaction** : 95%+ sur interface collaboration
- **Revenue per client** : +300% vs MVP actuel
- **Market differentiation** : Seule plateforme IA compl√®te France

---

## üö® POINTS D'ATTENTION CRITIQUES

### **S√©curit√©**
- ‚úÖ **Secrets nettoy√©s** dans repository GitHub
- ‚ö†Ô∏è **RGPD** : Donn√©es clients dans Figma = conformit√© stricte
- ‚ö†Ô∏è **API Rate Limits** : Surveiller quotas Figma/OpenAI/Google

### **Performance**
- ‚ö†Ô∏è **4 agents simultan√©s** = ressources importantes
- ‚ö†Ô∏è **Scaling** : Architecture doit supporter 1000+ clients
- ‚ö†Ô∏è **Monitoring** : Alertes sur toutes APIs critiques

### **Business**
- üî• **Design IA** = diff√©renciation majeure vs concurrence
- üî• **Speed** = avantage concurrentiel principal
- üî• **Quality consistency** = r√©tention client maximale

---

## üìù WORKFLOW DE D√âVELOPPEMENT

### **Commandes Essentielles**
```bash
# Lancement d√©veloppement multi-agents
cd /Users/manu/Documents/DEV/website-generator-v2-multi-agents-clean
npm run dev # Port 3334

cd /Users/manu/Documents/DEV/website-generator-design-ai
npm run dev # Port 3335

# Synchronisation branches
git worktree list
git push origin agent/design-ai
git merge agent/design-ai # depuis main
```

### **Tests Critiques**
```bash
# Tests existants
npm run test-db           # Base de donn√©es
npm run test-stripe       # Paiements Stripe
npm run test-polar        # Paiements Polar
npm run test-workflow     # Workflow complet

# Tests √† ajouter
npm run test-figma        # Figma MCP
npm run test-n8n          # Workflows N8N
npm run test-agents       # Agents IA
npm run test-ads          # APIs publicitaires
```

---

## üé™ VISION FINALE

### **Impact 6 Mois**
- **10x plus rapide** que concurrence traditionnelle
- **5x moins cher** que agences premium
- **100% coh√©rent** gr√¢ce √† automatisation IA
- **Leader fran√ßais** digitalisation PME

### **Exit Strategy 5 Ans**
- **10,000+ PME** transform√©es digitalement
- **100M‚Ç¨+ CA** g√©n√©r√© pour clients
- **Potentiel IPO/acquisition** majeure

---

## ü§ñ NOTES CLAUDE SP√âCIFIQUES

### **Contexte de Travail**
- **User** : Manu (entrepreneur fran√ßais, expert business digital)
- **Collaboration** : Architecture multi-agents r√©volutionnaire
- **Style** : Direct, concis, focus r√©sultats business

### **Priorit√©s de D√©veloppement**
1. **Design IA** : Diff√©renciation march√© maximale
2. **Automation** : Recurring revenue + valeur client
3. **Core Performance** : Fondation solide scaling
4. **Ads Management** : Revenue stream additionnel

### üéº **R√àGLE CRITIQUE - CHEF D'ORCHESTRE**
**‚ö° IMP√âRATIF ABSOLU : LES 4 AGENTS DOIVENT TOUJOURS TRAVAILLER EN PARALL√àLE**

- ‚úÖ **Utilisation OBLIGATOIRE de l'outil Task** pour maintenir 4 t√¢ches actives simultan√©ment
- ‚úÖ **Maximisation efficacit√©** : 4x plus rapide que d√©veloppement s√©quentiel  
- ‚úÖ **√âconomie tokens** : Parall√©lisation √©vite r√©p√©titions et optimise context
- ‚úÖ **R√¥le Chef d'Orchestre** : Coordination et supervision des 4 agents
- ‚úÖ **Surveillance continue** : Monitoring des 4 agents en temps r√©el

**Workflow Obligatoire :**
1. **Toujours lancer 4 Task simultan√©es** (une par agent)
2. **Coordonner les outputs** entre agents 
3. **Synchroniser les d√©veloppements** cross-agents
4. **Maintenir la vision globale** du projet
5. **Optimiser les performances** de l'√©cosyst√®me complet

### **Mise √† Jour R√©guli√®re**
Ce fichier CLAUDE.md doit √™tre mis √† jour √† chaque:
- Milestone atteint
- Configuration API ajout√©e
- Architecture modifi√©e
- Objectif business ajust√©

---

*üöÄ Mission : Transformer cette base technique solide en √©cosyst√®me r√©volutionnaire qui domine le march√© fran√ßais de la digitalisation PME via l'IA !*